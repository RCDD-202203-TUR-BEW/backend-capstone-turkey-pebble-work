tags:
    - name: User
      description: API to manage user profile.
paths:
    /api/user/:
        put:
            tags:
                - User
            summery: Update a user profile
            description: Update information of a user
            operationId: updateUser
            consumes:
                - multipart/form-data
            produces:
                - application/json
            security:
                - auth_cookie: []
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            $ref: '#/components/schemas/UpdatedUser'
                        encoding:
                            preferredCities:
                                style: form
                                explode: true
                            interests:
                                style: form
                                explode: true
            responses:
                200:
                    description: The updated user.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/FullPrivateUser'
                400:
                    description: This status is returned if the email is already in use.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    message:
                                        type: string
                                        example: Email already used
                403:
                    description: User is not authorized to perform the operation.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    message:
                                        type: string
                                        example: User Not Authorised!
                401:
                    description: User is not signed in.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    error:
                                        type: boolean
                                        example: true
                                    message:
                                        type: string
                                        example: 'Invalid Token: No authorization token was found'
                422:
                    description: This status is returned when at least one of the optional fields has an invalid value.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ValidationError'
                500:
                    description: Internal server error

components:
    schemas:
        UpdatedUser:
            type: object
            properties:
                email:
                    type: string
                    format: email
                    example: test@gmail.com
                password:
                    type: string
                    format: password
                    example: 12341234
                firstName:
                    type: string
                    example: Sara
                lastName:
                    type: string
                    example: Smith
                dateOfBirth:
                    type: string
                    format: date
                    example: 2000-01-01
                gender:
                    type: string
                    enum:
                        - male
                        - female
                        - other
                    example: female
                preferredCities:
                    type: array
                    items:
                        type: string
                        enum:
                            - Adana
                            - Kocaeli
                            - Adiyaman
                            - Konya
                            - Afyonkarahisar
                            - Kutahya
                            - Agri
                            - Malatya
                            - Amasya
                            - Manisa
                            - Ankara
                            - Kahramanmaras
                            - Antalya
                            - Mardin
                            - Artviin
                            - Mugla
                            - Aydin
                            - Mus
                            - Balikesir
                            - Nevsehir
                            - Bilecik
                            - Nigde
                            - Bingol
                            - Ordu
                            - Bitlis
                            - Rize
                            - Bolu
                            - Sakarya
                            - Burdur
                            - Samsun
                            - Bursa
                            - Siirt
                            - Canakkale
                            - Sinop
                            - Cankiri
                            - Sivas
                            - Corum
                            - Tekirdag
                            - Denizli
                            - Tokat
                            - Diyarbakir
                            - Trabzon
                            - Edirne
                            - Tunceli
                            - Elazig
                            - Sanliurfa
                            - Erzincan
                            - Usak
                            - Erzurum
                            - Van
                            - Eskisehir
                            - Yozgat
                            - Gaziantep
                            - Zonguldak
                            - Giresun
                            - Aksaray
                            - Gumushane
                            - Bayburt
                            - Hakkari
                            - Karaman
                            - Hatay
                            - Kirikkale
                            - Isparta
                            - Batman
                            - Mersin
                            - Sirnak
                            - Istanbul
                            - Bartin
                            - Izmir
                            - Ardahan
                            - Kars
                            - Igdir
                            - Kastamonu
                            - Yalova
                            - Kayseri
                            - Karabuk
                            - Kirklareli
                            - Kilis
                            - Kirsehir
                            - Osmaniye
                            - Duzce
                    example: [Osmaniye, Duzce]
                interests:
                    type: array
                    items:
                        type: string
                        enum:
                            - No Poverty
                            - Zero Hunger
                            - Good Health And Well-Being
                            - Quality Education
                            - Gender Equality
                            - Clean Water And Sanitation
                            - Affordable And Clean Energy
                            - Animals
                            - Oceans
                            - Nature
                            - Reduced Inequalities
                            - Sustainable Cities And Communities
                            - Responsible Consumption And Production
                            - Climate Action
                            - Life Below Water
                            - Life On Land
                            - Peace
                            - Youth
                            - Justice
                    example: [No Poverty, Zero Hunger]

securitySchemes:
    auth_cookie:
        type: apiKey
        in: cookie
        name: auth_token
