tags:
    - name: Event
      description: 'Operations about event'
paths:
    /api/event/:id/join:
    post:
        tags:
            - Event
        summary: Join user to an event
        description: add user to an event as a confirmed Volunteer
        operationId: Join user
        consumes:
            - application/json
        produces:
            - application/json
        security:
            - auth_cookie: []
        parameters:
            - name: id
              in: path
              description: event id that user goign to join
              required: true
              schema:
                  type: string
                  example: 62e297b6eb2bce7177c6fefc
            - in: body
              name: body
              description: Updated event object
              required: true
              schema:
                  $ref: '#/components/schemas/Event'
    responses:
        201:
            description: User joined Successfully to an event
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            message:
                                type: string
                                example: Joined Successfully
        401:
            description: user not sigend in
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            error:
                                type: boolean
                                example: true
                            message:
                                type: string
                                example: 'Invalid Token: No authorization token was found'
        404:
            description: Event not found  or has an invalid value
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/ValidationError'
        500:
            description: Internal server error

components:
    schemas:
    Event:
        type: object
        required:
            - title
            - content
            - coverImage
            - date
            - category
        properties:
            puplisherId:
                type: string
                format: puplisherId
                example: 62e297b6eb2bce7177c6fefc
            title:
                type: string
                format: title
                example: Event title
            content:
                type: string
                format: content
                example: Event content
            coverImage:
                type: string
                format: binary
            date:
                type: date
                format: date-time
                example: 2000-1-1
            category:
                type: string
                description: event categories
                enum:
                    - No Poverty
                    - Zero Hunger
                    - Good Health And Well-Being
                    - Quality Education
                    - Gender Equality
                    - Clean Water And Sanitation
                    - Affordable And Clean Energy
                    - Animals
                    - Oceans
                    - Nature
                    - Reduced Inequalities
                    - Sustainable Cities And Communities
                    - Responsible Consumption And Production
                    - Climate Action
                    - Life Below Water
                    - Life On Land
                    - Peace
                    - Youth
                    - Justice
                example: No Poverty
    address:
        type: object
        required:
            - city
            - country
            - addressLine
        properties:
            city:
                type: string
                format: city
                example: Bursa
            country:
                type: string
                format: country
                example: Turkey
            addressLine:
                type: string
                format: addressLine
    location:
        type: object
        required:
            - lat
            - log
        properties:
            lat:
                type: Number
                format: lat
            log:
                type: Number
                format: log
    ValidationError:
        type: object
        properties:
            errors:
                type: array
                items:
                    type: object
                    properties:
                        value:
                            type: string
                            example: an invalid value
                        msg:
                            type: string
                            example: a message explaining the error
                        param:
                            type: string
                            example: the parameter name that caused the error
                        location:
                            type: string
                            example: the location of the error whether it be a path, query, or body
